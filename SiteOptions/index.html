<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="description" content="Works with really large numbers">
    <title>Site Options</title>
		<script src="../assets/preload.js"></script>
    <script src="../assets/CPquery_1-2-0.min.js"></script>
    <script src="../assets/Options.js"></script>
		<script src="../assets/3rdParty/crate3.min.js" async></script>
  </head>
  <body>
    <nav>
      <a href="../">Home</a>
      <a href="../PreviewLibrary/">Preview library</a>
      <a href="../LibrarySource/">Library Source</a>
      <a href="../CPQuerySource/">CPQuery Source</a>
      <a href="../CalcPlus/">About CalcPlus</a>
      <a href="https://invite.gg/virxec">Offical Discord</a>
    </nav><br>
    <p id="sconsole"></p>
    <h1>Page Options</h1>
    <h3>Dark Mode <button id="dark"></button></h3>
    <h3>On-Screen Console <button id="console"></button></h3>
		<h3>Discord Widget <button id="widget"></button></h3>
		<h3>Default Channel
			<select id="channel">
				<option value="507717342680186891">General</option>
				<option value="583376212114669578">General 2</option>
				<option value="629774177733181440">CalcPlus</option>
			</select>
		</h3>
		<h3>Gamer Mode <button id="gamer"></button></h3>
		<h3>Transition time <input type="range" min="1" max="5000" id="transition"> <button id="applytrans">Apply <span id="transval"></span>ms</button></h3>
		<h3>Reset all <button id="reset">Reset</button></h3>
    <script>
			const id=[$("#dark"),$("#console"),$("#widget"),$("#gamer")], dex=[$("@isDark"),$("@isConsole"),$("@isWidget"),$("@isGamer")];
			$("#channel").tag("value",$("@channel").i());
			$("#transition").tag("value", $("@interval").i());
			$("#transval").txt($("@interval").i());
			id.forEach((e,i)=>{
				e.txt(dex[i].i()?dex[i].i():"Off");
				e.listen("click", ()=>{
					let value = dex[i].i()=="On"?"Off":"On";
					if (i == 3) dex[0].val(value);
					dex[i].val(value);
					e.txt(value);
					location.reload();
				});
			});
			$("#transition").listen("input", ()=>$("#transval").txt($("#transition").tag("value")));
			$("#applytrans").listen("click", ()=>{
				$("@interval").val($("#transition").tag("value"));
				location.reload();
			});
			$("#channel").listen("change", ()=>{
				$("@channel").val($("#channel").tag("value"));
				discord.options.channel = $("@channel").i();
			});
			$("#reset").listen("click", ()=>{
				localStorage.clear();
				location.reload();
			});
    </script>
  </body>
</html>
