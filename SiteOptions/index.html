<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="description" content="Works with really large numbers">
    <title>Site Options</title>
		<script src="../assets/CPquery.js"></script>
		<script src="../assets/Options.js"></script>
		<script src="../assets/3rdParty/crate3.min.js" async></script>
  </head>
  <body>
    <nav>
      <a class="nava" href="../">Home</a>
      <a class="nava" href="../PreviewLibrary/">Preview library</a>
      <a class="nava" href="../LibrarySource/">Library Source</a>
      <a class="nava" href="../CPQuerySource/">CPQuery Source</a>
      <a class="nava" href="../CalcPlus/">About CalcPlus</a>
      <a class="nava" href="https://invite.gg/virxec">Offical Discord</a>
    </nav><br>
		<p id="sconsole"></p>
    <h1>Site Options</h1>
    <h3>Dark Mode <button id="dark"></button></h3>
    <h3>Syntax Highlighting <button id="syntax"></button> (Credit: <a href="https://highlightjs.org">Highlight JS</a>)</h3>
		<h3>Discord Widget <button id="widget"></button> (Credit: <a href="https://widgetbot.io">WidgetBot</a>)</h3>
		<h3>Default Channel
			<select id="channel">
				<option value="629774177733181440">CalcPlus</option>
				<option value="507717342680186891">General</option>
				<option value="583376212114669578">General 2</option>
			</select>
		</h3>
		<h3>Gamer Mode <button id="gamer"></button></h3>
		<h3>Transition time <input type="range" min="1" max="5000" id="transition"> <button id="applytrans">Apply <span id="transval"></span>ms</button></h3>
    <h3>On-Screen Console <button id="console"></button></h3>
    <h3>Reset all <button id="reset">Reset</button></h3>
    <script>
			const id=[$("#dark"),$("#console"),$("#widget"),$("#gamer"),$("#syntax")], dex=[$("@isDark"),$("@isConsole"),$("@isWidget"),$("@isGamer"),$("@isSyntax")];
			$("#channel").tag("value",$("@channel").i());
			$("#transition").tag("value", $("@interval").i());
			$("#transval").txt($("@interval").i());
			id.forEach((e,i)=>{
				e.txt(dex[i].i());
				e.listen("click", ()=>{
					let value = dex[i].i()=="On"?"Off":"On";
					dex[i].i(value);
					e.txt(value);
					location.reload();
				});
			});
			$("#transition").listen("input", ()=>$("#transval").txt($("#transition").tag("value")));
			$("#applytrans").listen("click", ()=>{
				$("@interval").i($("#transition").tag("value"));
				location.reload();
			});
			$("#channel").listen("change", ()=>{
				$("@channel").i($("#channel").tag("value"));
				discord.options.channel = $("@channel").i();
			});
			$("#reset").listen("click", ()=>{
				localStorage.clear();
				location.reload();
			});
    </script>
  </body>
</html>
