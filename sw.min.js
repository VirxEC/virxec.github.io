const cacheName = "v1", cacheAssets = ['assets/CPquery_1-0-0.min.js','assets/CPquery.js','assets/Library.js','assets/logo.png','assets/Options.min.js','assets/Options.js','index.html','CalcPlus/index.html','CPQuerySource/index.html','LibrarySource/index.html','PageOptions/index.html','PreviewLibrary/index.html','/','CalcPlus/','CPQuerySource/','LibrarySource/','PageOptions/','PreviewLibrary/','LICENSE'];self.addEventListener('install', e => {e.waitUntil(caches.open(cacheName).then(cache => {cache.addAll(cacheAssets);}).then(() => self.skipWaiting()));});self.addEventListener('activate', e => {e.waitUntil(caches.keys().then(cacheName => {return Promise.all(cacheName.map(cache => {if (cache != cacheName) return caches.delete(cache);}))}));});self.addEventListener('fetch', e => {e.respondWith(fetch(e.request).catch(() => caches.match(e.request)));});